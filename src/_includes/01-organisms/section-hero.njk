{# 
=========================
    SECTION-HERO ORGANISM
      v1.0 - Thomas       
=========================
#}

{% macro renderSectionHero(option) %}
  {# Import required molecules and atoms #}
  {% from "02-molecules/cta-button.njk" import renderCtaButton %}
  {% from "02-molecules/cta-block.njk" import renderCtaBlock %}
  {% from "03-atoms/typography.njk" import renderTypography %}
  {% from "03-atoms/image.njk" import renderImage %}

  {# Check if datas is provided #}
  {% if not option.datas %}
    <span class="text-red-500">Error: No section-hero configuration provided</span>
  {% else %}
    {# Retrieve section-hero configuration #}
    {% set sectionsConfig = option.datas %}
    {% set sectionName = option.name %}
    
    {# Find the specific section by name #}
    {% set sectionData = null %}
    {% for section in sectionsConfig %}
      {% if section.name == sectionName %}
        {% set sectionData = section %}
      {% endif %}
    {% endfor %}

    {# Fallback if section not found #}
    {% if not sectionData %}
      <span class="text-red-500">Section Hero not found: {{ sectionName }}</span>
    {% else %}
      {# Build CSS classes #}
      {% set variant = sectionData.variant | default('default') %}
      {% set cssClasses = 'section-hero section-hero-' ~ variant %}
      
      {# Add any additional classes #}
      {% if option.class %}
        {% set cssClasses = cssClasses ~ ' ' ~ option.class %}
      {% endif %}
      
      {# Section container with background image #}
      <section class="{{ cssClasses }}" id="home">
        
        {# Background image container #}
        <div class="hero-background">
          {{ renderImage({ 
              name: sectionData.background_image,
              datas: option.imageDatas
          }) }}
          <div class="hero-overlay"></div>
        </div>
        
        {# === DESKTOP VERSION === #}
        <div class="section-hero-desktop">
          <div class="hero-container">
            
            {# Content Grid - 2 columns: Text content + CTA Block #}
            <div class="hero-content">
              
              {# Left Column - Text Content #}
              <div class="hero-text-column">
                
                {# Title #}
                <div class="hero-title">
                  {{ renderTypography({ 
                      name: sectionData.title,
                      datas: option.typographyDatas,
                      tag: "h1"
                  }) }}
                </div>
                
                {# Description Text #}
                <div class="hero-text">
                  {{ renderTypography({ 
                      name: sectionData.text,
                      datas: option.typographyDatas,
                      tag: "p"
                  }) }}
                </div>
                
                {# CTA Buttons #}
                <div class="hero-buttons">
                  {{ renderCtaButton({ 
                      name: sectionData.cta_button,
                      datas: option.ctaButtonDatas,
                      buttonDatas: option.buttonDatas
                  }) }}
                </div>
                
              </div>
              
              {# Right Column - CTA Block #}
              <div class="hero-cta-column">
                {{ renderCtaBlock({ 
                    name: sectionData.cta_block,
                    datas: option.ctaBlockDatas,
                    iconDatas: option.iconDatas,
                    buttonDatas: option.buttonDatas
                }) }}
              </div>
              
            </div>
          </div>
        </div>
        
        {# === MOBILE VERSION === #}
        <div class="section-hero-mobile">
          <div class="hero-container-mobile">
            
            {# Title #}
            <div class="hero-title-mobile">
              {{ renderTypography({ 
                  name: sectionData.title,
                  datas: option.typographyDatas,
                  tag: "h1"
              }) }}
            </div>
            
            {# Description Text #}
            <div class="hero-text-mobile">
              {{ renderTypography({ 
                  name: sectionData.text,
                  datas: option.typographyDatas,
                  tag: "p"
              }) }}
            </div>
            
            {# CTA Buttons #}
            <div class="hero-buttons-mobile">
              {{ renderCtaButton({ 
                  name: sectionData.cta_button,
                  datas: option.ctaButtonDatas,
                  buttonDatas: option.buttonDatas
              }) }}
            </div>
            
            {# CTA Block #}
            <div class="hero-cta-mobile">
              {{ renderCtaBlock({ 
                  name: sectionData.cta_block,
                  datas: option.ctaBlockDatas,
                  iconDatas: option.iconDatas,
                  buttonDatas: option.buttonDatas
              }) }}
            </div>
            
          </div>
        </div>
        
      </section>
    {% endif %}
  {% endif %}
{% endmacro %}

{# 
============================
Summon HAT Components Wisely
============================

1. Import the macro at the top of your page
{% from "01-organisms/section-hero.njk" import renderSectionHero %}

2. Call the section-hero
{{ renderSectionHero({ 
    name: "hero_thomas",
    datas: organisms["section-hero"].sections,
    typographyDatas: atoms.typography.texts,
    imageDatas: atoms.image.images,
    ctaButtonDatas: molecules["cta-button"]["cta-buttons"],
    ctaBlockDatas: molecules["cta-block"]["cta-blocks"],
    buttonDatas: atoms.button.buttons,
    iconDatas: atoms.icon.icons
}) }}

May your bugs be forever exiled to the shadow realm. üßô‚Äç‚ôÇÔ∏è‚ú®
#}